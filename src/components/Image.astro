---
import { urlForImage } from "../../lib/sanity";
import type { Image as ImageType } from "../../lib/types";
import { Image as AstroImage } from "@astrojs/image/components";

export interface Props {
    src: ImageType;
    width: number;
    height: number;
    fillContainer?: boolean;
    alt: string;
}
const { src, width, height, fillContainer, alt } = Astro.props;
---

<AstroImage
    class={`image ${fillContainer ? "fill-container" : ""}`}
    width={width}
    height={height}
    src={urlForImage(src.asset._ref)
        .width(width)
        .height(height)
        .auto("format")
        .format("webp")
        .fit("max")
        .url()}
    alt={alt}
    format="webp"
    loading="lazy"
/>
