---
import { defaultLocale, locales, type Locale } from "../i18n/ui";

// TODO: Accept-Language
const { headers } = Astro.request;
console.log("üó£Ô∏è ~ headers:", headers.get("accept-language"));

const userLocale = Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0];
return Astro.redirect(
    locales.includes(userLocale as Locale) ? userLocale : defaultLocale
);
---
