---
import { urlForImage } from "../../lib/sanity";
import type { Image as ImageType } from "../../lib/types";

export interface Props {
    src: ImageType;
    width: number;
    height: number;
    fillContainer?: boolean;
    alt: string;
}
const { src, width, height, fillContainer, alt } = Astro.props;

// FIXME: Implement this properly
const srcUrl = urlForImage(src)
    .width(width * 2)
    .height(height * 2)
    .format("webp")
    .quality(100)
    .fit("max")
    .url();
---

<img
    class={`image${fillContainer ? " fill-container" : ""}`}
    width={width}
    height={height}
    src={srcUrl}
    alt={alt}
    loading="lazy"
/>
