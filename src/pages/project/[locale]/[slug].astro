---
import { useSanityClient } from "astro-sanity";
import { projectSlugsQuery } from "../../../../lib/queries";
import ProjectLayout from "../../../layouts/project.astro";

const projectSlugs: { slug: string; locale: string }[] =
    await useSanityClient().fetch(projectSlugsQuery);

export function getStaticPaths() {
    // return [
    //     { params: { dog: "clifford" } },
    //     { params: { dog: "rover" } },
    //     { params: { dog: "spot" } },
    // ];
    return projectSlugs.map((p) => ({
        params: p,
    }));
}

const { slug, locale } = Astro.params;
---

<ProjectLayout content={Astro.params}>
    Post: {slug} Locale: {locale}
</ProjectLayout>
